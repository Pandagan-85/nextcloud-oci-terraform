# ==============================================================================
# Environment Variables - Example Configuration
# ==============================================================================
# Copy this file to .env and fill in your actual values
#
# cp .env.example .env
# nano .env
#
# IMPORTANT: .env is in .gitignore - DO NOT commit it!
# ==============================================================================

# ==============================================================================
# ORACLE CLOUD INFRASTRUCTURE (for scripts)
# ==============================================================================

# Instance connection details
OCI_INSTANCE_IP=YOUR_INSTANCE_PUBLIC_IP
OCI_SSH_USER=ubuntu
OCI_SSH_KEY_PATH=~/.ssh/id_rsa

# Instance details
OCI_REGION=eu-frankfurt-1
OCI_SHAPE=VM.Standard.A1.Flex

# ==============================================================================
# DUCKDNS CONFIGURATION
# ==============================================================================
# Get your free subdomain and token from: https://www.duckdns.org

DUCKDNS_DOMAIN=your-domain              # Without .duckdns.org
DUCKDNS_TOKEN=your-duckdns-token-here   # Your DuckDNS API token
DUCKDNS_FULL_DOMAIN=${DUCKDNS_DOMAIN}.duckdns.org

# ==============================================================================
# SSL CONFIGURATION
# ==============================================================================

LETSENCRYPT_EMAIL=your-email@example.com

# ==============================================================================
# NEXTCLOUD CONFIGURATION
# ==============================================================================

NEXTCLOUD_DOMAIN=${DUCKDNS_DOMAIN}.duckdns.org
NEXTCLOUD_DATA_DIR=/mnt/nextcloud-data

# Apache and Talk ports (usually don't need to change)
APACHE_PORT=11000
TALK_PORT=3478

# Admin credentials (set during Nextcloud setup)
NEXTCLOUD_ADMIN_USER=admin
NEXTCLOUD_ADMIN_PASSWORD=your-secure-password-here

# ==============================================================================
# BACKUP CONFIGURATION
# ==============================================================================

# Backup retention (days)
BACKUP_RETENTION_DAYS=7
BACKUP_REMOTE_RETENTION_DAYS=30

# Nextcloud backup encryption password
# Generate with: openssl rand -hex 32
NEXTCLOUD_BACKUP_PASSWORD=your-backup-encryption-password

# Nextcloud backup passphrase (BorgBackup)
# Generate with: pwgen -s 64 1
# Or use a memorable phrase
NEXTCLOUD_PASSPHRASE="your backup passphrase here"

# ==============================================================================
# APP PASSWORDS (Optional - for device sync)
# ==============================================================================
# Generate these from Nextcloud Settings → Security → Devices & Sessions
# Format: xxxxx-xxxxx-xxxxx-xxxxx-xxxxx

# NEXTCLOUD_APP_PASSWORD_Device1=xxxxx-xxxxx-xxxxx-xxxxx-xxxxx
# NEXTCLOUD_APP_PASSWORD_Device2=xxxxx-xxxxx-xxxxx-xxxxx-xxxxx

# ==============================================================================
# MONITORING CONFIGURATION (Optional - Prometheus + Grafana)
# ==============================================================================

# Grafana admin password
# Generate with: openssl rand -base64 32
GRAFANA_ADMIN_PASSWORD=your-secure-grafana-password

# Grafana will be accessible at: https://monitoring.${DUCKDNS_DOMAIN}.duckdns.org
# Default username: admin

# Data retention (Prometheus)
PROMETHEUS_RETENTION_DAYS=30

# ==============================================================================
# NOTES
# ==============================================================================
#
# Useful Commands:
#
# Access Nextcloud container:
#   docker exec -it nextcloud-aio-nextcloud bash
#
# Inside container, run OCC commands:
#   sudo -u www-data php occ status
#   sudo -u www-data php occ config:list
#   sudo -u www-data php occ maintenance:mode --on
#   sudo -u www-data php occ files:scan --all
#
# Check logs:
#   docker compose logs -f
#   docker compose logs nextcloud-aio-mastercontainer
#   docker compose logs caddy
#
# Backup commands:
#   ./scripts/create-backup.sh
#   ./scripts/download-backup.sh
#   ./scripts/export-data.sh
#
# ==============================================================================
